<?xml version="1.0" encoding="UTF-8"?>
<configuration>

  <property resource="application.properties" />
  <property name="LOG_PATTERN" value="%d{yyyy-MM-dd'T'HH:mm:ss.SSSZ} %p %m%n" />
   
  <appender name="STDOUT" class="ch.qos.logback.core.ConsoleAppender">
    <encoder>
      <pattern>${LOG_PATTERN}</pattern>
    </encoder>
  </appender>
 
  <appender name="vtlLog" class="ch.qos.logback.core.rolling.RollingFileAppender">
    <file>${logging.file}</file>
	<encoder>
      <pattern>${LOG_PATTERN}</pattern>
    </encoder>
	<rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">
      <fileNamePattern>${logging.file}.%d{yyyyMMddhhmmss}</fileNamePattern>
   </rollingPolicy>
  </appender>
  
  <logger name="fr.insee.kraftwerk.core.dataprocessing" additivity="false" level="info">
    <appender-ref ref="vtlLog" />
  </logger>
  
  <logger name="fr.insee.kraftwerk.core.vtl" additivity="false" level="info">
    <appender-ref ref="vtlLog" />
  </logger>

  <root level="info">
    <appender-ref ref="STDOUT" />
  </root>
    
</configuration>